<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Login | Placement Management</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
<div class="container" style="max-width:420px">

    <!-- Header -->
    <div class="app-header">
        <div class="logo-circle">ðŸŽ“</div>
        <div>
            <h1 class="app-title" style="font-size:26px">Placement Management</h1>
            <p class="app-subtitle">Login to continue</p>
        </div>
    </div>

    <!-- Login Card -->
    <div class="card">
        <h2 style="margin-top:0">User Login</h2>

        <input id="email" placeholder="ðŸ“§ Email">
        <input id="password" type="password" placeholder="ðŸ”’ Password">

        <button onclick="login()" style="width:100%;margin-top:10px">Login</button>

        <p id="loginError" style="color:red;margin-top:10px"></p>
    </div>
</div>

<script>
    function login() {
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        fetch("/login", {
            method: "POST",
            headers: {"Content-Type": "application/x-www-form-urlencoded"},
            body: `email=${email}&password=${password}`
        })
        .then(r => r.json())
        .then(data => {
            if (data.role === "ADMIN") {
                window.location = "/dashboard.html";
            } else if (data.role === "STUDENT") {
                window.location = "/student.html";
            } else {
                document.getElementById("loginError").innerText = "Invalid login";
            }
        })
        .catch(() => {
            document.getElementById("loginError").innerText = "Login failed";
        });
    }
</script>

</body>
</html>
